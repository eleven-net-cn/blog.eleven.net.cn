
<!DOCTYPE html>
<html lang="zh-CN" class="loading">
<head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="viewport" content="width=device-width, minimum-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>ImageTools æŒ‡å— - Eleven çš„åšå®¢</title>
    <meta name="apple-mobile-web-app-capable" content="yes" />
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <meta name="google" content="notranslate" />
    <meta name="keywords" content="Eleven,eleven-net-cn,Frontend,"> 
    <meta name="description" content="
åŸºäº vite-imagetools çš„å›¾ç‰‡ä¼˜åŒ–è§£å†³æ–¹æ¡ˆï¼Œå®˜æ–¹çš„æ–‡æ¡£å¤ªè¿‡äºç®€å•ï¼Œå› æ­¤ï¼Œå€ŸåŠ© AI æ•´ç†äº†å®Œæ•´æœ‰æ•ˆçš„ä½¿ç”¨æŒ‡å—ã€‚
å½“å‰æ–‡æ¡£é€‚ç”¨ç‰ˆæœ¬ vite-imagetools 6.2.9

ğŸ“– ,"> 
    <meta name="author" content="eleven-net-cn"> 
    <link rel="alternative" href="atom.xml" title="Eleven çš„åšå®¢" type="application/atom+xml"> 
    <link rel="icon" href="/img/abc/eleven-net-cn.jpeg"> 
    
<link rel="stylesheet" href="/css/font_1429596_nzgqgvnmkjb.css">

    
<link rel="stylesheet" href="/css/animate.min.css">

    
<link rel="stylesheet" href="/css/share-1.0.16.min.css">

    
<link rel="stylesheet" href="/codemirror-5.60.0/lib/codemirror.css">

    
<link rel="stylesheet" href="/codemirror-5.60.0/theme/dracula.css">

    
<link rel="stylesheet" href="/css/obsidian.css">

    
<link rel="stylesheet" href="/css/ball-atom.min.css">

    
<meta name="generator" content="Hexo 5.4.0"></head>


<body class="loading">
    <div class="loader">
        <div class="la-ball-atom la-2x">
            <div></div>
            <div></div>
            <div></div>
            <div></div>
        </div>
    </div>
    <span id="config-title" style="display:none">Eleven çš„åšå®¢</span>
    <div id="loader"></div>
    <div id="single">
    <div class="scrollbar gradient-bg-rev"></div>
<div id="top" style="display: block">
  <div class="bar" style="width: 0"></div>
  <div class="navigation animated fadeIn fast delay-1s">
    <img
      id="home-icon"
      class="icon-home"
      src="/img/abc/eleven-net-cn.jpeg"
      alt=""
      data-url="https://blog.eleven.net.cn"
    />
    <div id="play-icon" title="æ’­æ”¾/æš‚åœ" class="iconfont icon-play"></div>
    <div id="play-next" title="ä¸‹ä¸€æ›²" class="iconfont icon-next icon-arrow-right- next"></div>
    <h3 class="subtitle">ImageTools æŒ‡å—</h3>
    <div class="social">
      <!--        <div class="like-icon">-->
      <!--            <a href="javascript:;" class="likeThis active"><span class="icon-like"></span><span class="count">76</span></a>-->
      <!--        </div>-->
      <div>
        <div class="share">
          
        </div>
      </div>
    </div>
  </div>
</div>

    <div class="section">
        <div class=article-header-wrapper>
    <div class="article-header">
        <div class="article-cover animated fadeIn" style="
            animation-delay: 600ms;
            animation-duration: 1.2s;
            background-image: 
                radial-gradient(ellipse closest-side, rgba(0, 0, 0, 0.1), #100e17),
                url(/img/welcome-cover.jpg) ">
        </div>
        <div class="else">
            <p class="animated fadeInDown">
                
                <a href="/categories/Vite"><b>ã€Œ
                    </b>VITE<b> ã€</b></a>
                
                å…«æœˆ 26, 2025
            </p>
            <h3 class="post-title animated fadeInDown"><a href="/2025/08/26/vite/imagetools/" title="ImageTools æŒ‡å—" class="">ImageTools æŒ‡å—</a>
            </h3>
            
            <p class="post-count animated fadeInDown">
                
                <span>
                    <b class="iconfont icon-text2"></b> <i>æ–‡ç« å­—æ•°</i>
                    26k
                </span>
                
                
                <span>
                    <b class="iconfont icon-timer__s"></b> <i>é˜…è¯»çº¦éœ€</i>
                    24 mins.
                </span>
                
                
                <span id="/2025/08/26/vite/imagetools/" class="leancloud_visitors" data-flag-title="ImageTools æŒ‡å—">
                    <b class="iconfont icon-read"></b> <i>é˜…è¯»æ¬¡æ•°</i>
                    <span class="leancloud-visitors-count">--</span>
                </span>
                
            </p>
            
            
            <ul class="animated fadeInDown post-tags-list" itemprop="keywords"><li class="animated fadeInDown post-tags-list-item"><a class="animated fadeInDown post-tags-list-link" href="/tags/Vite/" rel="tag">Vite</a></li><li class="animated fadeInDown post-tags-list-item"><a class="animated fadeInDown post-tags-list-link" href="/tags/%E5%9B%BE%E7%89%87%E4%BC%98%E5%8C%96/" rel="tag">å›¾ç‰‡ä¼˜åŒ–</a></li><li class="animated fadeInDown post-tags-list-item"><a class="animated fadeInDown post-tags-list-link" href="/tags/%E6%80%A7%E8%83%BD%E4%BC%98%E5%8C%96/" rel="tag">æ€§èƒ½ä¼˜åŒ–</a></li></ul>
            
        </div>
    </div>
</div>

<div class="screen-gradient-after">
    <div class="screen-gradient-content">
        <div class="screen-gradient-content-inside">
            <div class="bold-underline-links screen-gradient-sponsor">
                <p>
                    <span class="animated fadeIn delay-1s"></span>
                </p>
            </div>
        </div>
    </div>
</div>

<div class="article">
    <div class='main'>
        <div class="content markdown animated fadeIn">
            <blockquote>
<p>åŸºäº <a target="_blank" rel="noopener" href="https://github.com/JonasKruckenberg/imagetools">vite-imagetools</a> çš„å›¾ç‰‡ä¼˜åŒ–è§£å†³æ–¹æ¡ˆï¼Œå®˜æ–¹çš„æ–‡æ¡£å¤ªè¿‡äºç®€å•ï¼Œå› æ­¤ï¼Œå€ŸåŠ© AI æ•´ç†äº†å®Œæ•´æœ‰æ•ˆçš„ä½¿ç”¨æŒ‡å—ã€‚</p>
<p>å½“å‰æ–‡æ¡£é€‚ç”¨ç‰ˆæœ¬ vite-imagetools 6.2.9</p>
</blockquote>
<h2 id="ğŸ“–-ç®€ä»‹"><a href="#ğŸ“–-ç®€ä»‹" class="headerlink" title="ğŸ“– ç®€ä»‹"></a>ğŸ“– ç®€ä»‹</h2><p>ImageTools æ˜¯ä¸€ä¸ªå¼ºå¤§çš„ Vite æ’ä»¶ï¼Œä¸“é—¨è´Ÿè´£é‡è¦å›¾ç‰‡çš„æ ¼å¼è½¬æ¢ï¼ˆPNG/JPG â†’ WebP/AVIFï¼‰ï¼Œé€šè¿‡æŸ¥è¯¢å‚æ•°çš„æ–¹å¼åœ¨æ„å»ºæ—¶å¯¹å›¾ç‰‡è¿›è¡Œä¼˜åŒ–å¤„ç†ã€‚</p>
<p><strong>âš ï¸ é‡è¦æé†’</strong>ï¼šå›¾ç‰‡å¿…é¡»é€šè¿‡ <code>import</code> å¯¼å…¥ï¼Œæ‰èƒ½è®© imagetools æ’ä»¶å·¥ä½œç”Ÿæ•ˆã€‚</p>
<h2 id="âš™ï¸-æ’ä»¶é…ç½®å‚æ•°"><a href="#âš™ï¸-æ’ä»¶é…ç½®å‚æ•°" class="headerlink" title="âš™ï¸ æ’ä»¶é…ç½®å‚æ•°"></a>âš™ï¸ æ’ä»¶é…ç½®å‚æ•°</h2><h3 id="include-æ–‡ä»¶åŒ…å«è§„åˆ™"><a href="#include-æ–‡ä»¶åŒ…å«è§„åˆ™" class="headerlink" title="include - æ–‡ä»¶åŒ…å«è§„åˆ™"></a><code>include</code> - æ–‡ä»¶åŒ…å«è§„åˆ™</h3><p><strong>ä½œç”¨</strong>ï¼šå†³å®šå“ªäº›æ–‡ä»¶ä¼šè¢« imagetools æ’ä»¶å¤„ç†<br><strong>ç±»å‹</strong>ï¼š<code>string | RegExp | Array&lt;string | RegExp&gt;</code><br><strong>é»˜è®¤å€¼</strong>ï¼š<code>&#39;**/*.(heif,avif,jpeg,jpg,png,tiff,webp,gif)?*&#39;</code></p>
<pre><code class="typescript">imagetools(&#123;
  // åªå¤„ç† assets ç›®å½•ä¸‹çš„å›¾ç‰‡
  include: &#39;src/assets/**/*.&#123;jpg,jpeg,png,webp&#125;&#39;,

  // æˆ–ä½¿ç”¨æ­£åˆ™è¡¨è¾¾å¼
  include: /^.*\.(jpg|jpeg|png|webp)$/,

  // æˆ–ä½¿ç”¨æ•°ç»„å¤„ç†å¤šä¸ªè§„åˆ™
  include: [&#39;src/assets/**/*.&#123;jpg,jpeg,png&#125;&#39;, &#39;src/images/**/*.webp&#39;],
&#125;)</code></pre>
<p><strong>ç¼–è¯‘ç»“æœå½±å“</strong>ï¼š</p>
<ul>
<li>âœ… åŒ¹é…çš„æ–‡ä»¶ï¼šä¼šè¢« imagetools å¤„ç†ï¼Œæ”¯æŒæŸ¥è¯¢å‚æ•°</li>
<li>âŒ ä¸åŒ¹é…çš„æ–‡ä»¶ï¼šç›´æ¥å¤åˆ¶åˆ° distï¼Œä¸æ”¯æŒæŸ¥è¯¢å‚æ•°</li>
</ul>
<h3 id="exclude-æ–‡ä»¶æ’é™¤è§„åˆ™"><a href="#exclude-æ–‡ä»¶æ’é™¤è§„åˆ™" class="headerlink" title="exclude - æ–‡ä»¶æ’é™¤è§„åˆ™"></a><code>exclude</code> - æ–‡ä»¶æ’é™¤è§„åˆ™</h3><p><strong>ä½œç”¨</strong>ï¼šæŒ‡å®šå“ªäº›æ–‡ä»¶ä¸è¢« imagetools å¤„ç†ï¼Œå³ä½¿åŒ¹é…äº† include<br><strong>ç±»å‹</strong>ï¼š<code>string | RegExp | Array&lt;string | RegExp&gt;</code><br><strong>é»˜è®¤å€¼</strong>ï¼š<code>&#39;public/**/*&#39;</code></p>
<pre><code class="typescript">imagetools(&#123;
  exclude: [
    &#39;public/**/*&#39;, // æ’é™¤ public ç›®å½•
    &#39;src/assets/icons/**/*&#39;, // æ’é™¤å›¾æ ‡ç›®å½•
    /.*\.svg$/, // æ’é™¤æ‰€æœ‰ SVG æ–‡ä»¶
  ],
&#125;)</code></pre>
<p><strong>ç¼–è¯‘ç»“æœå½±å“</strong>ï¼š</p>
<ul>
<li>è¢«æ’é™¤çš„æ–‡ä»¶ä¸ä¼šè¢«å¤„ç†ï¼Œå³ä½¿è·¯å¾„åŒ¹é… <code>include</code> è§„åˆ™</li>
<li>è¿™äº›æ–‡ä»¶ä¼šæŒ‰ç…§ Vite çš„é»˜è®¤è§„åˆ™å¤„ç†</li>
</ul>
<h3 id="defaultDirectives-é»˜è®¤å¤„ç†æŒ‡ä»¤"><a href="#defaultDirectives-é»˜è®¤å¤„ç†æŒ‡ä»¤" class="headerlink" title="defaultDirectives - é»˜è®¤å¤„ç†æŒ‡ä»¤"></a><code>defaultDirectives</code> - é»˜è®¤å¤„ç†æŒ‡ä»¤</h3><p><strong>ä½œç”¨</strong>ï¼šä¸ºæ‰€æœ‰å›¾ç‰‡è®¾ç½®é»˜è®¤çš„å¤„ç†å‚æ•°<br><strong>ç±»å‹</strong>ï¼š<code>URLSearchParams | ((url: URL, metadata: () =&gt; Promise&lt;Metadata&gt;) =&gt; URLSearchParams)</code></p>
<h4 id="é™æ€é…ç½®æ–¹å¼ï¼š"><a href="#é™æ€é…ç½®æ–¹å¼ï¼š" class="headerlink" title="é™æ€é…ç½®æ–¹å¼ï¼š"></a>é™æ€é…ç½®æ–¹å¼ï¼š</h4><pre><code class="typescript">imagetools(&#123;
  defaultDirectives: new URLSearchParams(&#123;
    format: &#39;webp&#39;, // é»˜è®¤è½¬æ¢ä¸º WebP
    quality: &#39;85&#39;, // é»˜è®¤è´¨é‡ 85%
    progressive: &#39;true&#39;, // é»˜è®¤å¯ç”¨æ¸è¿›å¼åŠ è½½
  &#125;),
&#125;)</code></pre>
<h4 id="åŠ¨æ€é…ç½®æ–¹å¼ï¼š"><a href="#åŠ¨æ€é…ç½®æ–¹å¼ï¼š" class="headerlink" title="åŠ¨æ€é…ç½®æ–¹å¼ï¼š"></a>åŠ¨æ€é…ç½®æ–¹å¼ï¼š</h4><pre><code class="typescript">imagetools(&#123;
  defaultDirectives: (url, metadata) =&gt; &#123;
    const params = new URLSearchParams()

    // æ ¹æ®æ–‡ä»¶è·¯å¾„è®¾ç½®ä¸åŒé»˜è®¤å€¼
    if (url.pathname.includes(&#39;/hero/&#39;)) &#123;
      params.set(&#39;format&#39;, &#39;webp&#39;)
      params.set(&#39;quality&#39;, &#39;90&#39;)
      params.set(&#39;w&#39;, &#39;1920&#39;)
    &#125; else if (url.pathname.includes(&#39;/thumb/&#39;)) &#123;
      params.set(&#39;format&#39;, &#39;webp&#39;)
      params.set(&#39;quality&#39;, &#39;75&#39;)
      params.set(&#39;w&#39;, &#39;300&#39;)
      params.set(&#39;h&#39;, &#39;300&#39;)
      params.set(&#39;fit&#39;, &#39;cover&#39;)
    &#125; else &#123;
      params.set(&#39;format&#39;, &#39;webp&#39;)
      params.set(&#39;quality&#39;, &#39;85&#39;)
    &#125;

    return params
  &#125;,
&#125;)</code></pre>
<p><strong>ç¼–è¯‘ç»“æœå½±å“</strong>ï¼š</p>
<ul>
<li>é»˜è®¤æŒ‡ä»¤ä¼šä¸æŸ¥è¯¢å‚æ•°åˆå¹¶ï¼ŒæŸ¥è¯¢å‚æ•°ä¼˜å…ˆçº§æ›´é«˜</li>
<li>å¦‚æœæ²¡æœ‰æŸ¥è¯¢å‚æ•°ï¼Œä¼šä½¿ç”¨é»˜è®¤æŒ‡ä»¤å¤„ç†</li>
</ul>
<h3 id="removeMetadata-ç§»é™¤å…ƒæ•°æ®"><a href="#removeMetadata-ç§»é™¤å…ƒæ•°æ®" class="headerlink" title="removeMetadata - ç§»é™¤å…ƒæ•°æ®"></a><code>removeMetadata</code> - ç§»é™¤å…ƒæ•°æ®</h3><p><strong>ä½œç”¨</strong>ï¼šæ˜¯å¦ç§»é™¤å›¾ç‰‡çš„ EXIFã€GPSã€ä½œè€…ç­‰éšç§ä¿¡æ¯<br><strong>ç±»å‹</strong>ï¼š<code>boolean</code><br><strong>é»˜è®¤å€¼</strong>ï¼š<code>true</code></p>
<pre><code class="typescript">imagetools(&#123;
  removeMetadata: true, // ç§»é™¤å…ƒæ•°æ®ï¼Œå‡å°æ–‡ä»¶å¤§å°
&#125;)</code></pre>
<p><strong>ç¼–è¯‘ç»“æœå½±å“</strong>ï¼š</p>
<ul>
<li><code>true</code>ï¼šç§»é™¤æ‰€æœ‰å…ƒæ•°æ®ï¼Œæ–‡ä»¶æ›´å°ï¼Œä¿æŠ¤éšç§</li>
<li><code>false</code>ï¼šä¿ç•™å…ƒæ•°æ®ï¼Œæ–‡ä»¶ç¨å¤§ï¼Œä¿ç•™åŸå§‹ä¿¡æ¯</li>
</ul>
<h3 id="namedExports-å‘½åå¯¼å‡º"><a href="#namedExports-å‘½åå¯¼å‡º" class="headerlink" title="namedExports - å‘½åå¯¼å‡º"></a><code>namedExports</code> - å‘½åå¯¼å‡º</h3><p><strong>ä½œç”¨</strong>ï¼šæ˜¯å¦ç”Ÿæˆå‘½åå¯¼å‡ºï¼ˆå¦‚ srcsetã€metadataï¼‰<br><strong>ç±»å‹</strong>ï¼š<code>boolean</code><br><strong>é»˜è®¤å€¼</strong>ï¼š<code>undefined</code></p>
<pre><code class="typescript">imagetools(&#123;
  namedExports: true,
&#125;)</code></pre>
<p><strong>ç¼–è¯‘ç»“æœå½±å“</strong>ï¼š</p>
<pre><code class="typescript">// namedExports: true æ—¶
import img, &#123; srcset, metadata &#125; from &#39;./pic.jpg?w=400;800&amp;as=srcset&#39;

// namedExports: false æ—¶
import img from &#39;./pic.jpg?w=400;800&amp;as=srcset&#39; // åªæœ‰é»˜è®¤å¯¼å‡º</code></pre>
<h2 id="ğŸ¯-æŸ¥è¯¢å‚æ•°è¯¦è§£"><a href="#ğŸ¯-æŸ¥è¯¢å‚æ•°è¯¦è§£" class="headerlink" title="ğŸ¯ æŸ¥è¯¢å‚æ•°è¯¦è§£"></a>ğŸ¯ æŸ¥è¯¢å‚æ•°è¯¦è§£</h2><h3 id="å°ºå¯¸æ§åˆ¶å‚æ•°"><a href="#å°ºå¯¸æ§åˆ¶å‚æ•°" class="headerlink" title="å°ºå¯¸æ§åˆ¶å‚æ•°"></a>å°ºå¯¸æ§åˆ¶å‚æ•°</h3><h4 id="w-å®½åº¦è®¾ç½®"><a href="#w-å®½åº¦è®¾ç½®" class="headerlink" title="w - å®½åº¦è®¾ç½®"></a><code>w</code> - å®½åº¦è®¾ç½®</h4><p><strong>ä½œç”¨</strong>ï¼šè®¾ç½®è¾“å‡ºå›¾ç‰‡çš„å®½åº¦ï¼ˆåƒç´ ï¼‰</p>
<pre><code class="typescript">// å•ä¸€å®½åº¦
import img from &#39;./pic.jpg?w=400&#39;
// ç¼–è¯‘ç»“æœï¼šç”Ÿæˆ 400px å®½çš„å›¾ç‰‡

// å¤šä¸ªå®½åº¦ï¼ˆå“åº”å¼ï¼‰
import img from &#39;./pic.jpg?w=400;800;1200&#39;
// ç¼–è¯‘ç»“æœï¼šç”Ÿæˆ 3 ä¸ªä¸åŒå®½åº¦çš„å›¾ç‰‡æ–‡ä»¶</code></pre>
<h4 id="h-é«˜åº¦è®¾ç½®"><a href="#h-é«˜åº¦è®¾ç½®" class="headerlink" title="h - é«˜åº¦è®¾ç½®"></a><code>h</code> - é«˜åº¦è®¾ç½®</h4><p><strong>ä½œç”¨</strong>ï¼šè®¾ç½®è¾“å‡ºå›¾ç‰‡çš„é«˜åº¦ï¼ˆåƒç´ ï¼‰</p>
<pre><code class="typescript">import img from &#39;./pic.jpg?h=300&#39;
// ç¼–è¯‘ç»“æœï¼šç”Ÿæˆ 300px é«˜çš„å›¾ç‰‡ï¼Œå®½åº¦æŒ‰æ¯”ä¾‹ç¼©æ”¾

import img from &#39;./pic.jpg?w=400&amp;h=300&#39;
// ç¼–è¯‘ç»“æœï¼šç”Ÿæˆ 400x300 çš„å›¾ç‰‡ï¼Œå¯èƒ½ä¼šè£å‰ª</code></pre>
<h4 id="aspect-å®½é«˜æ¯”"><a href="#aspect-å®½é«˜æ¯”" class="headerlink" title="aspect - å®½é«˜æ¯”"></a><code>aspect</code> - å®½é«˜æ¯”</h4><p><strong>ä½œç”¨</strong>ï¼šå¼ºåˆ¶è®¾ç½®å›¾ç‰‡çš„å®½é«˜æ¯”<br><strong>æ ¼å¼</strong>ï¼š<code>16:9</code>ã€<code>4:3</code>ã€<code>1:1</code> ç­‰</p>
<pre><code class="typescript">import img from &#39;./pic.jpg?w=400&amp;aspect=16:9&#39;
// ç¼–è¯‘ç»“æœï¼šç”Ÿæˆ 400x225 çš„å›¾ç‰‡ï¼ˆ16:9 æ¯”ä¾‹ï¼‰</code></pre>
<h4 id="fit-é€‚é…æ¨¡å¼"><a href="#fit-é€‚é…æ¨¡å¼" class="headerlink" title="fit - é€‚é…æ¨¡å¼"></a><code>fit</code> - é€‚é…æ¨¡å¼</h4><p><strong>ä½œç”¨</strong>ï¼šå½“æŒ‡å®šäº†å®½åº¦å’Œé«˜åº¦æ—¶ï¼Œå†³å®šå¦‚ä½•å¤„ç†å›¾ç‰‡ä»¥é€‚åº”ç›®æ ‡å°ºå¯¸</p>
<pre><code class="typescript">// coverï¼šè£å‰ªå¡«æ»¡ï¼ˆé»˜è®¤ï¼‰
import cover from &#39;./pic.jpg?w=400&amp;h=300&amp;fit=cover&#39;
// ç¼–è¯‘ç»“æœï¼š400x300ï¼Œå¯èƒ½è£å‰ªå›¾ç‰‡è¾¹ç¼˜

// containï¼šå®Œæ•´æ˜¾ç¤º
import contain from &#39;./pic.jpg?w=400&amp;h=300&amp;fit=contain&#39;
// ç¼–è¯‘ç»“æœï¼šå›¾ç‰‡å®Œæ•´æ˜¾ç¤ºåœ¨ 400x300 åŒºåŸŸå†…ï¼Œå¯èƒ½æœ‰ç©ºç™½

// fillï¼šæ‹‰ä¼¸å¡«æ»¡
import fill from &#39;./pic.jpg?w=400&amp;h=300&amp;fit=fill&#39;
// ç¼–è¯‘ç»“æœï¼šå¼ºåˆ¶æ‹‰ä¼¸åˆ° 400x300ï¼Œå¯èƒ½å˜å½¢

// insideï¼šç¼©å°åˆ°åŒºåŸŸå†…
import inside from &#39;./pic.jpg?w=400&amp;h=300&amp;fit=inside&#39;
// ç¼–è¯‘ç»“æœï¼šåªç¼©å°ï¼Œä¸æ”¾å¤§

// outsideï¼šæ”¾å¤§åˆ°è¦†ç›–åŒºåŸŸ
import outside from &#39;./pic.jpg?w=400&amp;h=300&amp;fit=outside&#39;
// ç¼–è¯‘ç»“æœï¼šæ”¾å¤§åˆ°å®Œå…¨è¦†ç›–åŒºåŸŸ</code></pre>
<h4 id="position-è£å‰ªä½ç½®"><a href="#position-è£å‰ªä½ç½®" class="headerlink" title="position - è£å‰ªä½ç½®"></a><code>position</code> - è£å‰ªä½ç½®</h4><p><strong>ä½œç”¨</strong>ï¼šå½“ä½¿ç”¨ <code>fit=cover</code> æ—¶ï¼ŒæŒ‡å®šä»å›¾ç‰‡çš„å“ªä¸ªéƒ¨åˆ†å¼€å§‹è£å‰ª</p>
<pre><code class="typescript">import img from &#39;./pic.jpg?w=400&amp;h=300&amp;fit=cover&amp;position=top&#39;
// ç¼–è¯‘ç»“æœï¼šä»å›¾ç‰‡é¡¶éƒ¨å¼€å§‹è£å‰ª

// å¯é€‰å€¼ï¼štop, right, bottom, left, center
// ä¹Ÿå¯ä»¥ç»„åˆï¼štop left, bottom right ç­‰</code></pre>
<h3 id="æ ¼å¼è½¬æ¢å‚æ•°"><a href="#æ ¼å¼è½¬æ¢å‚æ•°" class="headerlink" title="æ ¼å¼è½¬æ¢å‚æ•°"></a>æ ¼å¼è½¬æ¢å‚æ•°</h3><h4 id="format-è¾“å‡ºæ ¼å¼"><a href="#format-è¾“å‡ºæ ¼å¼" class="headerlink" title="format - è¾“å‡ºæ ¼å¼"></a><code>format</code> - è¾“å‡ºæ ¼å¼</h4><p><strong>ä½œç”¨</strong>ï¼šè½¬æ¢å›¾ç‰‡æ ¼å¼<br><strong>æ”¯æŒæ ¼å¼</strong>ï¼š<code>webp</code>ã€<code>avif</code>ã€<code>jpeg</code>ã€<code>jpg</code>ã€<code>png</code>ã€<code>tiff</code>ã€<code>gif</code>ã€<code>heif</code></p>
<pre><code class="typescript">// å•ä¸€æ ¼å¼
import webp from &#39;./pic.jpg?format=webp&#39;
// ç¼–è¯‘ç»“æœï¼šç”Ÿæˆ .webp æ–‡ä»¶

// å¤šæ ¼å¼è¾“å‡º
import multi from &#39;./pic.jpg?format=webp;avif;jpg&#39;
// ç¼–è¯‘ç»“æœï¼šç”Ÿæˆ 3 ä¸ªä¸åŒæ ¼å¼çš„æ–‡ä»¶</code></pre>
<h4 id="quality-å›¾ç‰‡è´¨é‡"><a href="#quality-å›¾ç‰‡è´¨é‡" class="headerlink" title="quality - å›¾ç‰‡è´¨é‡"></a><code>quality</code> - å›¾ç‰‡è´¨é‡</h4><p><strong>ä½œç”¨</strong>ï¼šè®¾ç½®æœ‰æŸå‹ç¼©çš„è´¨é‡<br><strong>èŒƒå›´</strong>ï¼š0-100<br><strong>é€‚ç”¨æ ¼å¼</strong>ï¼šJPEGã€WebPï¼ˆæœ‰æŸæ¨¡å¼ï¼‰ã€AVIF</p>
<pre><code class="typescript">import high from &#39;./pic.jpg?format=webp&amp;quality=95&#39;
// ç¼–è¯‘ç»“æœï¼šé«˜è´¨é‡ WebPï¼ˆæ–‡ä»¶è¾ƒå¤§ï¼‰

import low from &#39;./pic.jpg?format=webp&amp;quality=60&#39;
// ç¼–è¯‘ç»“æœï¼šä½è´¨é‡ WebPï¼ˆæ–‡ä»¶è¾ƒå°ï¼‰</code></pre>
<p><strong>æ¨èè´¨é‡è®¾ç½®</strong>ï¼š</p>
<ul>
<li><strong>WebP</strong>: <code>quality=85</code> æ˜¯è§†è§‰æ— æŸçš„æœ€ä½³å¹³è¡¡ç‚¹</li>
<li><strong>AVIF</strong>: <code>quality=80</code> æä¾›æ›´å¥½çš„å‹ç¼©ç‡</li>
</ul>
<h4 id="progressive-æ¸è¿›å¼åŠ è½½"><a href="#progressive-æ¸è¿›å¼åŠ è½½" class="headerlink" title="progressive - æ¸è¿›å¼åŠ è½½"></a><code>progressive</code> - æ¸è¿›å¼åŠ è½½</h4><p><strong>ä½œç”¨</strong>ï¼šç”Ÿæˆæ”¯æŒæ¸è¿›å¼åŠ è½½çš„å›¾ç‰‡<br><strong>æ”¯æŒæ ¼å¼</strong>ï¼šåªæœ‰ JPEG</p>
<pre><code class="typescript">import prog from &#39;./pic.jpg?format=jpeg&amp;progressive=true&#39;
// ç¼–è¯‘ç»“æœï¼šç”Ÿæˆæ¸è¿›å¼ JPEGï¼Œæ”¯æŒé€æ­¥åŠ è½½æ˜¾ç¤º</code></pre>
<h4 id="lossless-æ— æŸå‹ç¼©"><a href="#lossless-æ— æŸå‹ç¼©" class="headerlink" title="lossless - æ— æŸå‹ç¼©"></a><code>lossless</code> - æ— æŸå‹ç¼©</h4><p><strong>ä½œç”¨</strong>ï¼šå¯¹æ”¯æŒçš„æ ¼å¼ä½¿ç”¨æ— æŸå‹ç¼©<br><strong>æ”¯æŒæ ¼å¼</strong>ï¼šWebPã€PNG</p>
<pre><code class="typescript">import lossless from &#39;./pic.png?format=webp&amp;lossless=true&#39;
// ç¼–è¯‘ç»“æœï¼šç”Ÿæˆæ— æŸ WebPï¼Œè´¨é‡å®Œç¾ä½†æ–‡ä»¶è¾ƒå¤§</code></pre>
<h3 id="è§†è§‰æ•ˆæœå‚æ•°"><a href="#è§†è§‰æ•ˆæœå‚æ•°" class="headerlink" title="è§†è§‰æ•ˆæœå‚æ•°"></a>è§†è§‰æ•ˆæœå‚æ•°</h3><h4 id="blur-æ¨¡ç³Šæ•ˆæœ"><a href="#blur-æ¨¡ç³Šæ•ˆæœ" class="headerlink" title="blur - æ¨¡ç³Šæ•ˆæœ"></a><code>blur</code> - æ¨¡ç³Šæ•ˆæœ</h4><p><strong>ä½œç”¨</strong>ï¼šåº”ç”¨é«˜æ–¯æ¨¡ç³Š<br><strong>èŒƒå›´</strong>ï¼š0.3-1000ï¼ˆå®é™…å¸¸ç”¨ 1-20ï¼‰</p>
<pre><code class="typescript">import blurred from &#39;./pic.jpg?blur=5&#39;
// ç¼–è¯‘ç»“æœï¼šåº”ç”¨ 5px åŠå¾„çš„é«˜æ–¯æ¨¡ç³Š

// å¸¸ç”¨å€¼ï¼š1-10ï¼Œæ•°å€¼è¶Šå¤§è¶Šæ¨¡ç³Š</code></pre>
<h4 id="grayscale-ç°åº¦è½¬æ¢"><a href="#grayscale-ç°åº¦è½¬æ¢" class="headerlink" title="grayscale - ç°åº¦è½¬æ¢"></a><code>grayscale</code> - ç°åº¦è½¬æ¢</h4><p><strong>ä½œç”¨</strong>ï¼šè½¬æ¢ä¸ºç°åº¦å›¾ç‰‡</p>
<pre><code class="typescript">import gray from &#39;./pic.jpg?grayscale=true&#39;
// ç¼–è¯‘ç»“æœï¼šè½¬æ¢ä¸ºç°åº¦å›¾ç‰‡</code></pre>
<h4 id="invert-é¢œè‰²åè½¬"><a href="#invert-é¢œè‰²åè½¬" class="headerlink" title="invert - é¢œè‰²åè½¬"></a><code>invert</code> - é¢œè‰²åè½¬</h4><p><strong>ä½œç”¨</strong>ï¼šåè½¬æ‰€æœ‰é¢œè‰²ï¼ˆç±»ä¼¼åº•ç‰‡æ•ˆæœï¼‰</p>
<pre><code class="typescript">import inverted from &#39;./pic.jpg?invert=true&#39;
// ç¼–è¯‘ç»“æœï¼šåè½¬æ‰€æœ‰é¢œè‰²</code></pre>
<h4 id="tint-è‰²è°ƒè°ƒæ•´"><a href="#tint-è‰²è°ƒè°ƒæ•´" class="headerlink" title="tint - è‰²è°ƒè°ƒæ•´"></a><code>tint</code> - è‰²è°ƒè°ƒæ•´</h4><p><strong>ä½œç”¨</strong>ï¼šç»™å›¾ç‰‡æ·»åŠ é¢œè‰²è‰²è°ƒ<br><strong>æ ¼å¼</strong>ï¼šåå…­è¿›åˆ¶é¢œè‰²å€¼ï¼ˆä¸éœ€è¦ # å‰ç¼€ï¼‰</p>
<pre><code class="typescript">import tinted from &#39;./pic.jpg?tint=ff0000&#39;
// ç¼–è¯‘ç»“æœï¼šæ·»åŠ çº¢è‰²è‰²è°ƒ

// ä½¿ç”¨åå…­è¿›åˆ¶é¢œè‰²å€¼ï¼Œä¸éœ€è¦ # å‰ç¼€</code></pre>
<h4 id="rotate-æ—‹è½¬"><a href="#rotate-æ—‹è½¬" class="headerlink" title="rotate - æ—‹è½¬"></a><code>rotate</code> - æ—‹è½¬</h4><p><strong>ä½œç”¨</strong>ï¼šæ—‹è½¬å›¾ç‰‡<br><strong>èŒƒå›´</strong>ï¼šä»»æ„è§’åº¦</p>
<pre><code class="typescript">import rotated from &#39;./pic.jpg?rotate=90&#39;
// ç¼–è¯‘ç»“æœï¼šé¡ºæ—¶é’ˆæ—‹è½¬ 90 åº¦

// æ”¯æŒä»»æ„è§’åº¦ï¼Œè´Ÿæ•°è¡¨ç¤ºé€†æ—¶é’ˆ</code></pre>
<h4 id="flip-flop-ç¿»è½¬"><a href="#flip-flop-ç¿»è½¬" class="headerlink" title="flip / flop - ç¿»è½¬"></a><code>flip</code> / <code>flop</code> - ç¿»è½¬</h4><p><strong>ä½œç”¨</strong>ï¼šç¿»è½¬å›¾ç‰‡</p>
<pre><code class="typescript">import flipped from &#39;./pic.jpg?flip=true&#39;
// ç¼–è¯‘ç»“æœï¼šæ°´å¹³ç¿»è½¬ï¼ˆå·¦å³ç¿»è½¬ï¼‰

import flopped from &#39;./pic.jpg?flop=true&#39;
// ç¼–è¯‘ç»“æœï¼šå‚ç›´ç¿»è½¬ï¼ˆä¸Šä¸‹ç¿»è½¬ï¼‰</code></pre>
<h3 id="é«˜çº§å‚æ•°"><a href="#é«˜çº§å‚æ•°" class="headerlink" title="é«˜çº§å‚æ•°"></a>é«˜çº§å‚æ•°</h3><h4 id="background-èƒŒæ™¯è‰²"><a href="#background-èƒŒæ™¯è‰²" class="headerlink" title="background - èƒŒæ™¯è‰²"></a><code>background</code> - èƒŒæ™¯è‰²</h4><p><strong>ä½œç”¨</strong>ï¼šä¸ºé€æ˜åŒºåŸŸæˆ–ç©ºç™½åŒºåŸŸè®¾ç½®èƒŒæ™¯è‰²</p>
<pre><code class="typescript">import withBg from &#39;./pic.png?w=400&amp;h=300&amp;fit=contain&amp;background=ffffff&#39;
// ç¼–è¯‘ç»“æœï¼šé€æ˜åŒºåŸŸæˆ–ç©ºç™½åŒºåŸŸå¡«å……ç™½è‰²

// ç”¨äº PNG è½¬ JPEG æ—¶ç§»é™¤é€æ˜åº¦</code></pre>
<h4 id="flatten-å›¾å±‚åˆå¹¶"><a href="#flatten-å›¾å±‚åˆå¹¶" class="headerlink" title="flatten - å›¾å±‚åˆå¹¶"></a><code>flatten</code> - å›¾å±‚åˆå¹¶</h4><p><strong>ä½œç”¨</strong>ï¼šå°†é€æ˜å›¾å±‚åˆå¹¶åˆ°èƒŒæ™¯ä¸Š</p>
<pre><code class="typescript">import flattened from &#39;./pic.png?flatten=true&amp;background=ffffff&#39;
// ç¼–è¯‘ç»“æœï¼šå°†é€æ˜å›¾å±‚åˆå¹¶åˆ°ç™½è‰²èƒŒæ™¯ä¸Š</code></pre>
<h4 id="normalize-å½’ä¸€åŒ–"><a href="#normalize-å½’ä¸€åŒ–" class="headerlink" title="normalize - å½’ä¸€åŒ–"></a><code>normalize</code> - å½’ä¸€åŒ–</h4><p><strong>ä½œç”¨</strong>ï¼šå¢å¼ºå›¾ç‰‡å¯¹æ¯”åº¦</p>
<pre><code class="typescript">import normalized from &#39;./pic.jpg?normalize=true&#39;
// ç¼–è¯‘ç»“æœï¼šå¢å¼ºå›¾ç‰‡å¯¹æ¯”åº¦ï¼Œæ‹‰ä¼¸äº®åº¦åˆ†å¸ƒ</code></pre>
<h4 id="median-ä¸­å€¼æ»¤æ³¢"><a href="#median-ä¸­å€¼æ»¤æ³¢" class="headerlink" title="median - ä¸­å€¼æ»¤æ³¢"></a><code>median</code> - ä¸­å€¼æ»¤æ³¢</h4><p><strong>ä½œç”¨</strong>ï¼šå»é™¤å›¾ç‰‡å™ªç‚¹</p>
<pre><code class="typescript">import filtered from &#39;./pic.jpg?median=3&#39;
// ç¼–è¯‘ç»“æœï¼šåº”ç”¨ 3x3 ä¸­å€¼æ»¤æ³¢ï¼Œå»é™¤å™ªç‚¹</code></pre>
<h2 id="ğŸ“¤-è¾“å‡ºæ ¼å¼è¯¦è§£"><a href="#ğŸ“¤-è¾“å‡ºæ ¼å¼è¯¦è§£" class="headerlink" title="ğŸ“¤ è¾“å‡ºæ ¼å¼è¯¦è§£"></a>ğŸ“¤ è¾“å‡ºæ ¼å¼è¯¦è§£</h2><h3 id="é»˜è®¤è¾“å‡ºï¼ˆURL-å­—ç¬¦ä¸²ï¼‰"><a href="#é»˜è®¤è¾“å‡ºï¼ˆURL-å­—ç¬¦ä¸²ï¼‰" class="headerlink" title="é»˜è®¤è¾“å‡ºï¼ˆURL å­—ç¬¦ä¸²ï¼‰"></a>é»˜è®¤è¾“å‡ºï¼ˆURL å­—ç¬¦ä¸²ï¼‰</h3><pre><code class="typescript">import img from &#39;./pic.jpg?w=400&amp;format=webp&#39;
// ç±»å‹ï¼šstring
// å€¼ï¼š&quot;/assets/pic.hash.webp&quot;
// ç”¨é€”ï¼šç›´æ¥ç”¨ä½œ img src</code></pre>
<h3 id="as-srcset-å“åº”å¼å›¾ç‰‡é›†"><a href="#as-srcset-å“åº”å¼å›¾ç‰‡é›†" class="headerlink" title="as=srcset - å“åº”å¼å›¾ç‰‡é›†"></a><code>as=srcset</code> - å“åº”å¼å›¾ç‰‡é›†</h3><pre><code class="typescript">import &#123; srcset &#125; from &#39;./pic.jpg?w=400;800;1200&amp;format=webp&amp;as=srcset&#39;
// ç±»å‹ï¼šstring
// å€¼ï¼š&quot;/assets/pic-400.hash.webp 400w, /assets/pic-800.hash.webp 800w, /assets/pic-1200.hash.webp 1200w&quot;
// ç”¨é€”ï¼šimg æ ‡ç­¾çš„ srcset å±æ€§</code></pre>
<h3 id="as-metadata-å›¾ç‰‡å…ƒä¿¡æ¯"><a href="#as-metadata-å›¾ç‰‡å…ƒä¿¡æ¯" class="headerlink" title="as=metadata - å›¾ç‰‡å…ƒä¿¡æ¯"></a><code>as=metadata</code> - å›¾ç‰‡å…ƒä¿¡æ¯</h3><pre><code class="typescript">import &#123; metadata &#125; from &#39;./pic.jpg?w=400&amp;as=metadata&#39;
// ç±»å‹ï¼š&#123; src: string, width: number, height: number, format: string &#125;
// å€¼ï¼š&#123; src: &quot;/assets/pic.hash.webp&quot;, width: 400, height: 300, format: &quot;webp&quot; &#125;
// ç”¨é€”ï¼šè·å–å¤„ç†åçš„å›¾ç‰‡ä¿¡æ¯</code></pre>
<h3 id="as-img-å›¾ç‰‡å¯¹è±¡"><a href="#as-img-å›¾ç‰‡å¯¹è±¡" class="headerlink" title="as=img - å›¾ç‰‡å¯¹è±¡"></a><code>as=img</code> - å›¾ç‰‡å¯¹è±¡</h3><pre><code class="typescript">import img from &#39;./pic.jpg?w=400&amp;as=img&#39;
// ç±»å‹ï¼š&#123; src: string, w: number, h: number &#125;
// å€¼ï¼š&#123; src: &quot;/assets/pic.hash.webp&quot;, w: 400, h: 300 &#125;
// ç”¨é€”ï¼šåŒæ—¶è·å– URL å’Œå°ºå¯¸ä¿¡æ¯</code></pre>
<h3 id="as-picture-Picture-å…ƒç´ æ•°æ®"><a href="#as-picture-Picture-å…ƒç´ æ•°æ®" class="headerlink" title="as=picture - Picture å…ƒç´ æ•°æ®"></a><code>as=picture</code> - Picture å…ƒç´ æ•°æ®</h3><pre><code class="typescript">import picture from &#39;./pic.jpg?format=webp;avif;jpg&amp;w=800&amp;as=picture&#39;
// ç±»å‹ï¼š&#123; sources: Record&lt;string, string&gt;, img: &#123; src: string, w: number, h: number &#125; &#125;
// å€¼ï¼š&#123;
//   sources: &#123;
//     webp: &quot;/assets/pic.hash.webp 800w&quot;,
//     avif: &quot;/assets/pic.hash.avif 800w&quot;
//   &#125;,
//   img: &#123; src: &quot;/assets/pic.hash.jpg&quot;, w: 800, h: 600 &#125;
// &#125;
// ç”¨é€”ï¼šç”Ÿæˆ &lt;picture&gt; å…ƒç´ </code></pre>
<h2 id="ğŸš€-å®é™…ä½¿ç”¨ç¤ºä¾‹"><a href="#ğŸš€-å®é™…ä½¿ç”¨ç¤ºä¾‹" class="headerlink" title="ğŸš€ å®é™…ä½¿ç”¨ç¤ºä¾‹"></a>ğŸš€ å®é™…ä½¿ç”¨ç¤ºä¾‹</h2><h3 id="1-åŸºç¡€-WebP-è½¬æ¢"><a href="#1-åŸºç¡€-WebP-è½¬æ¢" class="headerlink" title="1. åŸºç¡€ WebP è½¬æ¢"></a>1. åŸºç¡€ WebP è½¬æ¢</h3><pre><code class="vue">&lt;template&gt;
  &lt;img
    :src=&quot;heroImage&quot;
    alt=&quot;Hero image&quot;
  /&gt;
&lt;/template&gt;

&lt;script setup lang=&quot;ts&quot;&gt;
// å°† PNG è½¬æ¢ä¸º WebP æ ¼å¼
import heroImage from &#39;@/assets/images/hero.png?format=webp&amp;quality=85&#39;
&lt;/script&gt;</code></pre>
<h3 id="2-å“åº”å¼å›¾åƒ"><a href="#2-å“åº”å¼å›¾åƒ" class="headerlink" title="2. å“åº”å¼å›¾åƒ"></a>2. å“åº”å¼å›¾åƒ</h3><pre><code class="vue">&lt;template&gt;
  &lt;img
    :srcset=&quot;srcset&quot;
    sizes=&quot;(max-width: 600px) 300px, 600px&quot;
    alt=&quot;Responsive image&quot;
  /&gt;
&lt;/template&gt;

&lt;script setup lang=&quot;ts&quot;&gt;
// ç”Ÿæˆå¤šç§å°ºå¯¸çš„ WebP å›¾åƒ
import &#123; srcset &#125; from &#39;@/assets/images/banner.png?w=300;600;900&amp;format=webp&amp;quality=85&#39;
&lt;/script&gt;</code></pre>
<h3 id="3-å¤šæ ¼å¼æ”¯æŒ"><a href="#3-å¤šæ ¼å¼æ”¯æŒ" class="headerlink" title="3. å¤šæ ¼å¼æ”¯æŒ"></a>3. å¤šæ ¼å¼æ”¯æŒ</h3><pre><code class="vue">&lt;template&gt;
  &lt;picture&gt;
    &lt;source
      :srcset=&quot;avifSrcset&quot;
      type=&quot;image/avif&quot;
    /&gt;
    &lt;source
      :srcset=&quot;webpSrcset&quot;
      type=&quot;image/webp&quot;
    /&gt;
    &lt;img
      :src=&quot;fallbackSrc&quot;
      alt=&quot;Multi-format image&quot;
    /&gt;
  &lt;/picture&gt;
&lt;/template&gt;

&lt;script setup lang=&quot;ts&quot;&gt;
// ç”Ÿæˆ WebP å’Œ AVIF æ ¼å¼
import &#123; srcset as webpSrcset &#125; from &#39;@/assets/images/photo.png?format=webp&amp;quality=85&amp;w=300;600&#39;
import &#123; srcset as avifSrcset &#125; from &#39;@/assets/images/photo.png?format=avif&amp;quality=80&amp;w=300;600&#39;
import fallbackSrc from &#39;@/assets/images/photo.png?w=600&#39;
&lt;/script&gt;</code></pre>
<h3 id="4-æ¸è¿›å¼-WebP-å›¾åƒ"><a href="#4-æ¸è¿›å¼-WebP-å›¾åƒ" class="headerlink" title="4. æ¸è¿›å¼ WebP å›¾åƒ"></a>4. æ¸è¿›å¼ WebP å›¾åƒ</h3><pre><code class="vue">&lt;template&gt;
  &lt;img
    :src=&quot;progressiveImage&quot;
    alt=&quot;Progressive WebP&quot;
  /&gt;
&lt;/template&gt;

&lt;script setup lang=&quot;ts&quot;&gt;
// ç”Ÿæˆæ¸è¿›å¼ WebP å›¾åƒ
import progressiveImage from &#39;@/assets/images/large-image.png?format=webp&amp;quality=85&amp;progressive=true&#39;
&lt;/script&gt;</code></pre>
<h3 id="5-èƒŒæ™¯å›¾åƒä¼˜åŒ–"><a href="#5-èƒŒæ™¯å›¾åƒä¼˜åŒ–" class="headerlink" title="5. èƒŒæ™¯å›¾åƒä¼˜åŒ–"></a>5. èƒŒæ™¯å›¾åƒä¼˜åŒ–</h3><pre><code class="vue">&lt;template&gt;
  &lt;div
    class=&quot;hero-bg&quot;
    :style=&quot;&#123; backgroundImage: `url($&#123;bgImage&#125;)` &#125;&quot;
  &gt;&lt;/div&gt;
&lt;/template&gt;

&lt;script setup lang=&quot;ts&quot;&gt;
// ä¼˜åŒ–èƒŒæ™¯å›¾åƒ
import bgImage from &#39;@/assets/images/background.png?format=webp&amp;quality=80&amp;w=1920&#39;
&lt;/script&gt;</code></pre>
<h3 id="6-é«˜çº§ç”¨æ³•ï¼šPicture-å…ƒç´ "><a href="#6-é«˜çº§ç”¨æ³•ï¼šPicture-å…ƒç´ " class="headerlink" title="6. é«˜çº§ç”¨æ³•ï¼šPicture å…ƒç´ "></a>6. é«˜çº§ç”¨æ³•ï¼šPicture å…ƒç´ </h3><pre><code class="vue">&lt;template&gt;
  &lt;picture&gt;
    &lt;source
      v-for=&quot;(srcset, format) in modernSources&quot;
      :key=&quot;format&quot;
      :srcset=&quot;srcset&quot;
      :type=&quot;`image/$&#123;format&#125;`&quot;
    /&gt;
    &lt;img
      :src=&quot;img.src&quot;
      :width=&quot;img.w&quot;
      :height=&quot;img.h&quot;
      alt=&quot;Banner&quot;
    /&gt;
  &lt;/picture&gt;
&lt;/template&gt;

&lt;script setup lang=&quot;ts&quot;&gt;
import &#123; sources as modernSources, img &#125; from &#39;@/assets/hero.jpg?format=webp;avif&amp;w=800&amp;as=picture&#39;
&lt;/script&gt;</code></pre>
<h2 id="ğŸ“Š-æ€§èƒ½å½±å“å¯¹æ¯”"><a href="#ğŸ“Š-æ€§èƒ½å½±å“å¯¹æ¯”" class="headerlink" title="ğŸ“Š æ€§èƒ½å½±å“å¯¹æ¯”"></a>ğŸ“Š æ€§èƒ½å½±å“å¯¹æ¯”</h2><h3 id="æ–‡ä»¶å¤§å°å¯¹æ¯”ï¼ˆä»¥-1MB-åŸå§‹-JPEG-ä¸ºä¾‹ï¼‰"><a href="#æ–‡ä»¶å¤§å°å¯¹æ¯”ï¼ˆä»¥-1MB-åŸå§‹-JPEG-ä¸ºä¾‹ï¼‰" class="headerlink" title="æ–‡ä»¶å¤§å°å¯¹æ¯”ï¼ˆä»¥ 1MB åŸå§‹ JPEG ä¸ºä¾‹ï¼‰"></a>æ–‡ä»¶å¤§å°å¯¹æ¯”ï¼ˆä»¥ 1MB åŸå§‹ JPEG ä¸ºä¾‹ï¼‰</h3><table>
<thead>
<tr>
<th>é…ç½®</th>
<th>è¾“å‡ºå¤§å°</th>
<th>è´¨é‡</th>
<th>ç”¨é€”</th>
</tr>
</thead>
<tbody><tr>
<td><code>?format=webp&amp;quality=90</code></td>
<td>~400KB</td>
<td>ä¼˜ç§€</td>
<td>é«˜è´¨é‡å±•ç¤º</td>
</tr>
<tr>
<td><code>?format=webp&amp;quality=85</code></td>
<td>~300KB</td>
<td>å¾ˆå¥½</td>
<td>é€šç”¨åœºæ™¯</td>
</tr>
<tr>
<td><code>?format=webp&amp;quality=75</code></td>
<td>~200KB</td>
<td>è‰¯å¥½</td>
<td>ç¼©ç•¥å›¾</td>
</tr>
<tr>
<td><code>?format=avif&amp;quality=85</code></td>
<td>~250KB</td>
<td>å¾ˆå¥½</td>
<td>ç°ä»£æµè§ˆå™¨</td>
</tr>
<tr>
<td><code>?w=400&amp;format=webp&amp;quality=85</code></td>
<td>~50KB</td>
<td>å¾ˆå¥½</td>
<td>å°å°ºå¯¸å›¾ç‰‡</td>
</tr>
</tbody></table>
<h3 id="æ„å»ºæ—¶é—´å½±å“"><a href="#æ„å»ºæ—¶é—´å½±å“" class="headerlink" title="æ„å»ºæ—¶é—´å½±å“"></a>æ„å»ºæ—¶é—´å½±å“</h3><table>
<thead>
<tr>
<th>æ“ä½œ</th>
<th>ç›¸å¯¹è€—æ—¶</th>
<th>è¯´æ˜</th>
</tr>
</thead>
<tbody><tr>
<td>æ ¼å¼è½¬æ¢</td>
<td>1x</td>
<td>åŸºç¡€æ“ä½œ</td>
</tr>
<tr>
<td>å°ºå¯¸è°ƒæ•´</td>
<td>1.2x</td>
<td>è½»å¾®å¢åŠ </td>
</tr>
<tr>
<td>å¤šå°ºå¯¸ç”Ÿæˆ</td>
<td>2-3x</td>
<td>æŒ‰å°ºå¯¸æ•°é‡å€å¢</td>
</tr>
<tr>
<td>å¤šæ ¼å¼è¾“å‡º</td>
<td>2-4x</td>
<td>æŒ‰æ ¼å¼æ•°é‡å€å¢</td>
</tr>
<tr>
<td>å¤æ‚æ»¤é•œ</td>
<td>1.5-2x</td>
<td>æ¨¡ç³Šã€è‰²è°ƒç­‰</td>
</tr>
</tbody></table>
<h2 id="ğŸ’¡-æœ€ä½³å®è·µ"><a href="#ğŸ’¡-æœ€ä½³å®è·µ" class="headerlink" title="ğŸ’¡ æœ€ä½³å®è·µ"></a>ğŸ’¡ æœ€ä½³å®è·µ</h2><h3 id="1-é€‰æ‹©åˆé€‚çš„å›¾ç‰‡"><a href="#1-é€‰æ‹©åˆé€‚çš„å›¾ç‰‡" class="headerlink" title="1. é€‰æ‹©åˆé€‚çš„å›¾ç‰‡"></a>1. é€‰æ‹©åˆé€‚çš„å›¾ç‰‡</h3><ul>
<li><strong>é‡è¦å›¾ç‰‡</strong>ï¼šä½¿ç”¨ imagetools è¿›è¡Œæ ¼å¼è½¬æ¢</li>
<li><strong>æ™®é€šå›¾ç‰‡</strong>ï¼šä¾èµ– vite-plugin-image-optimizer è¿›è¡Œå‹ç¼©</li>
</ul>
<h3 id="2-è´¨é‡è®¾ç½®"><a href="#2-è´¨é‡è®¾ç½®" class="headerlink" title="2. è´¨é‡è®¾ç½®"></a>2. è´¨é‡è®¾ç½®</h3><ul>
<li><strong>WebP</strong>: <code>quality=85</code> æ˜¯è§†è§‰æ— æŸçš„æœ€ä½³å¹³è¡¡ç‚¹</li>
<li><strong>AVIF</strong>: <code>quality=80</code> æä¾›æ›´å¥½çš„å‹ç¼©ç‡</li>
</ul>
<h3 id="3-å“åº”å¼å›¾åƒ"><a href="#3-å“åº”å¼å›¾åƒ" class="headerlink" title="3. å“åº”å¼å›¾åƒ"></a>3. å“åº”å¼å›¾åƒ</h3><ul>
<li>ä¸ºä¸åŒè®¾å¤‡ç”Ÿæˆåˆé€‚çš„å°ºå¯¸</li>
<li>ä½¿ç”¨ <code>sizes</code> å±æ€§é…åˆ <code>srcset</code></li>
</ul>
<h3 id="4-é™çº§æ–¹æ¡ˆ"><a href="#4-é™çº§æ–¹æ¡ˆ" class="headerlink" title="4. é™çº§æ–¹æ¡ˆ"></a>4. é™çº§æ–¹æ¡ˆ</h3><ul>
<li>ä½¿ç”¨ <code>&lt;picture&gt;</code> æ ‡ç­¾æä¾›å¤šæ ¼å¼æ”¯æŒ</li>
<li>ç¡®ä¿æœ‰ PNG/JPG æ ¼å¼çš„é™çº§æ–¹æ¡ˆ</li>
</ul>
<h3 id="5-åŸºç¡€é…ç½®æ¨è"><a href="#5-åŸºç¡€é…ç½®æ¨è" class="headerlink" title="5. åŸºç¡€é…ç½®æ¨è"></a>5. åŸºç¡€é…ç½®æ¨è</h3><pre><code class="typescript">// vite.config.mts
imagetools(&#123;
  defaultDirectives: new URLSearchParams(&#123;
    format: &#39;webp&#39;,
    quality: &#39;85&#39;,
    progressive: &#39;true&#39;,
  &#125;),
  removeMetadata: true,
&#125;)</code></pre>
<h3 id="6-æŒ‰ç”¨é€”åˆ†ç±»å¤„ç†"><a href="#6-æŒ‰ç”¨é€”åˆ†ç±»å¤„ç†" class="headerlink" title="6. æŒ‰ç”¨é€”åˆ†ç±»å¤„ç†"></a>6. æŒ‰ç”¨é€”åˆ†ç±»å¤„ç†</h3><pre><code class="typescript">// è‹±é›„å›¾ç‰‡ - é«˜è´¨é‡
import hero from &#39;@/assets/hero.jpg?format=webp&amp;quality=90&amp;w=1920&#39;

// ç¼©ç•¥å›¾ - å°å°ºå¯¸ï¼Œä½è´¨é‡
import thumb from &#39;@/assets/photo.jpg?w=200&amp;h=200&amp;fit=cover&amp;quality=75&#39;

// èƒŒæ™¯å›¾ - æ¨¡ç³Šï¼Œä½è´¨é‡
import bgBlur from &#39;@/assets/bg.jpg?blur=10&amp;quality=60&amp;w=1200&#39;

// å“åº”å¼å›¾ç‰‡
import &#123; srcset &#125; from &#39;@/assets/banner.jpg?w=400;800;1200&amp;format=webp&amp;as=srcset&#39;</code></pre>
<h2 id="ğŸ”§-é¡¹ç›®é…ç½®"><a href="#ğŸ”§-é¡¹ç›®é…ç½®" class="headerlink" title="ğŸ”§ é¡¹ç›®é…ç½®"></a>ğŸ”§ é¡¹ç›®é…ç½®</h2><h3 id="å½“å‰é¡¹ç›®é…ç½®"><a href="#å½“å‰é¡¹ç›®é…ç½®" class="headerlink" title="å½“å‰é¡¹ç›®é…ç½®"></a>å½“å‰é¡¹ç›®é…ç½®</h3><pre><code class="typescript">// vite.config.mts
imagetools(&#123;
  // æ¯å¼ å›¾ç‰‡é»˜è®¤ç”Ÿæ•ˆçš„æŒ‡ä»¤ï¼Œæ‹¼æ¥é»˜è®¤å‚æ•°
  defaultDirectives: new URLSearchParams(&#123;
    progressive: &#39;true&#39;,
  &#125;),
&#125;),</code></pre>
<h3 id="TypeScript-ç±»å‹å£°æ˜"><a href="#TypeScript-ç±»å‹å£°æ˜" class="headerlink" title="TypeScript ç±»å‹å£°æ˜"></a>TypeScript ç±»å‹å£°æ˜</h3><p>é¡¹ç›®å·²åœ¨ <code>env.d.ts</code> ä¸­é…ç½®äº†å®Œæ•´çš„ ImageTools ç±»å‹å£°æ˜ï¼Œæ”¯æŒæ‰€æœ‰æŸ¥è¯¢å‚æ•°çš„ç±»å‹æ£€æŸ¥ã€‚</p>
<pre><code class="ts">// Imagetools ç±»å‹å£°æ˜
declare module &#39;*.png?format=webp&#39; &#123;
  const src: string
  export default src
&#125;

declare module &#39;*.jpg?format=webp&#39; &#123;
  const src: string
  export default src
&#125;

declare module &#39;*.jpeg?format=webp&#39; &#123;
  const src: string
  export default src
&#125;

declare module &#39;*.png?format=avif&#39; &#123;
  const src: string
  export default src
&#125;

declare module &#39;*.jpg?format=avif&#39; &#123;
  const src: string
  export default src
&#125;

declare module &#39;*.jpeg?format=avif&#39; &#123;
  const src: string
  export default src
&#125;

declare module &#39;*.png?format=webp,avif&#39; &#123;
  const src: string
  export default src
&#125;

declare module &#39;*.jpg?format=webp,avif&#39; &#123;
  const src: string
  export default src
&#125;

declare module &#39;*.jpeg?format=webp,avif&#39; &#123;
  const src: string
  export default src
&#125;

// å¸¦å°ºå¯¸å‚æ•°çš„ WebP
declare module &#39;*.png?w=*&amp;format=webp&#39; &#123;
  const srcset: string
  export &#123; srcset &#125;
&#125;

declare module &#39;*.jpg?w=*&amp;format=webp&#39; &#123;
  const srcset: string
  export &#123; srcset &#125;
&#125;

declare module &#39;*.jpeg?w=*&amp;format=webp&#39; &#123;
  const srcset: string
  export &#123; srcset &#125;
&#125;

// å¸¦å°ºå¯¸å‚æ•°çš„ AVIF
declare module &#39;*.png?w=*&amp;format=avif&#39; &#123;
  const srcset: string
  export &#123; srcset &#125;
&#125;

declare module &#39;*.jpg?w=*&amp;format=avif&#39; &#123;
  const srcset: string
  export &#123; srcset &#125;
&#125;

declare module &#39;*.jpeg?w=*&amp;format=avif&#39; &#123;
  const srcset: string
  export &#123; srcset &#125;
&#125;

// é€šç”¨æŸ¥è¯¢å‚æ•°æ”¯æŒ
declare module &#39;*.png?*&#39; &#123;
  const src: string
  export default src
  export const srcset: string
  export const metadata: any
&#125;

declare module &#39;*.jpg?*&#39; &#123;
  const src: string
  export default src
  export const srcset: string
  export const metadata: any
&#125;

declare module &#39;*.jpeg?*&#39; &#123;
  const src: string
  export default src
  export const srcset: string
  export const metadata: any
&#125;

declare module &#39;*.webp?*&#39; &#123;
  const src: string
  export default src
  export const srcset: string
  export const metadata: any
&#125;

declare module &#39;*.avif?*&#39; &#123;
  const src: string
  export default src
  export const srcset: string
  export const metadata: any
&#125;</code></pre>
<h2 id="âš ï¸-æ³¨æ„äº‹é¡¹"><a href="#âš ï¸-æ³¨æ„äº‹é¡¹" class="headerlink" title="âš ï¸ æ³¨æ„äº‹é¡¹"></a>âš ï¸ æ³¨æ„äº‹é¡¹</h2><ol>
<li><strong>å›¾ç‰‡å¿…é¡»é€šè¿‡ import å¯¼å…¥</strong>ï¼šåªæœ‰é€šè¿‡ ES6 import å¯¼å…¥çš„å›¾ç‰‡æ‰ä¼šè¢« imagetools å¤„ç†</li>
<li><strong>Node.js ç‰ˆæœ¬è¦æ±‚</strong>ï¼šæœ€æ–°ç‰ˆæœ¬çš„ imagetools éœ€è¦ Node.js 18+ï¼Œå½“å‰é¡¹ç›®ä½¿ç”¨å…¼å®¹ç‰ˆæœ¬</li>
<li><strong>æ„å»ºæ—¶é—´</strong>ï¼šå¤æ‚çš„å›¾ç‰‡å¤„ç†ä¼šå¢åŠ æ„å»ºæ—¶é—´ï¼Œå»ºè®®åˆç†ä½¿ç”¨</li>
<li><strong>æ–‡ä»¶å¤§å°æƒè¡¡</strong>ï¼šè¿‡åº¦ä¼˜åŒ–å¯èƒ½å¯¼è‡´è´¨é‡æŸå¤±ï¼Œéœ€è¦åœ¨æ–‡ä»¶å¤§å°å’Œè´¨é‡ä¹‹é—´æ‰¾åˆ°å¹³è¡¡</li>
</ol>
<h2 id="ğŸŒ-WebP-AVIF-æµè§ˆå™¨å…¼å®¹æ€§"><a href="#ğŸŒ-WebP-AVIF-æµè§ˆå™¨å…¼å®¹æ€§" class="headerlink" title="ğŸŒ WebP/AVIF æµè§ˆå™¨å…¼å®¹æ€§"></a>ğŸŒ WebP/AVIF æµè§ˆå™¨å…¼å®¹æ€§</h2><h3 id="WebP-æ”¯æŒ"><a href="#WebP-æ”¯æŒ" class="headerlink" title="WebP æ”¯æŒ"></a>WebP æ”¯æŒ</h3><ul>
<li><strong>Chrome</strong>: 23+</li>
<li><strong>Firefox</strong>: 65+</li>
<li><strong>Safari</strong>: 14+</li>
<li><strong>Edge</strong>: 18+</li>
</ul>
<h3 id="AVIF-æ”¯æŒ"><a href="#AVIF-æ”¯æŒ" class="headerlink" title="AVIF æ”¯æŒ"></a>AVIF æ”¯æŒ</h3><ul>
<li><strong>Chrome</strong>: 85+</li>
<li><strong>Firefox</strong>: 93+</li>
<li><strong>Safari</strong>: 16.1+</li>
<li><strong>Edge</strong>: 85+</li>
</ul>
<h3 id="ç§»åŠ¨ç«¯æ”¯æŒ"><a href="#ç§»åŠ¨ç«¯æ”¯æŒ" class="headerlink" title="ç§»åŠ¨ç«¯æ”¯æŒ"></a>ç§»åŠ¨ç«¯æ”¯æŒ</h3><ul>
<li><strong>iOS Safari</strong>: iOS 14+ æ”¯æŒ WebP</li>
<li><strong>Android Chrome</strong>: åŸç”Ÿæ”¯æŒ WebP</li>
<li><strong>å¾®ä¿¡æµè§ˆå™¨</strong>: æ”¯æŒ WebP</li>
</ul>
<h3 id="æ–‡ä»¶å¤§å°å¯¹æ¯”"><a href="#æ–‡ä»¶å¤§å°å¯¹æ¯”" class="headerlink" title="æ–‡ä»¶å¤§å°å¯¹æ¯”"></a>æ–‡ä»¶å¤§å°å¯¹æ¯”</h3><ul>
<li><strong>WebP</strong>: é€šå¸¸æ¯” PNG å° 25-35%</li>
<li><strong>AVIF</strong>: é€šå¸¸æ¯” WebP å° 20-30%</li>
</ul>
<h2 id="ğŸ“š-ç›¸å…³é“¾æ¥"><a href="#ğŸ“š-ç›¸å…³é“¾æ¥" class="headerlink" title="ğŸ“š ç›¸å…³é“¾æ¥"></a>ğŸ“š ç›¸å…³é“¾æ¥</h2><ul>
<li><a target="_blank" rel="noopener" href="https://github.com/JonasKruckenberg/imagetools">ImageTools å®˜æ–¹æ–‡æ¡£</a></li>
<li><a target="_blank" rel="noopener" href="https://sharp.pixelplumbing.com/">Sharp æ–‡æ¡£</a></li>
<li><a target="_blank" rel="noopener" href="https://developers.google.com/speed/webp">WebP æ ¼å¼è¯´æ˜</a></li>
<li><a target="_blank" rel="noopener" href="https://web.dev/compress-images-avif/">AVIF æ ¼å¼è¯´æ˜</a></li>
</ul>

            <!--[if lt IE 9]><script>document.createElement('audio');</script><![endif]-->
            <audio id="audio" preload="auto" controls="controls"
                data-autoplay="true">
                <source type="audio/mpeg" src="">
            </audio>
            
            <ul id="audio-list" style="display:none">
                
                
                <li title='0' data-url='/statics/è‹±é›„çš„é»æ˜.mp3'></li>
                
                    
                
                <li title='1' data-url='/statics/å‡ºåŸƒåŠè®°.mp3'></li>
                
                    
                
                <li title='2' data-url='/statics/å¤©åœ°å­¤å½±ä»»æˆ‘è¡Œ.mp3'></li>
                
                    
                
                <li title='3' data-url='/statics/å¸‚é›†.mp3'></li>
                
                    
                
                <li title='4' data-url='/statics/çŸ¥éŸ³.mp3'></li>
                
                    
                
                <li title='5' data-url='/statics/Beautiful In White.mp3'></li>
                
                    
                
                <li title='6' data-url='/statics/chengdu.mp3'></li>
                
                    
                
                <li title='7' data-url='/statics/å¹³å‡¡ä¹‹è·¯.mp3'></li>
                
                    
            </ul>
            
            
            <div class="post-nav">
                <hr>
                
                
                    <div class="post-nav-item">ä¸‹ä¸€ç¯‡ï¼š<a href="/2025/04/17/lowcode/core/behavior/" rel="next" 
                        title="ä½ä»£ç æ ¸å¿ƒå®ç° - ç»„ä»¶é—´æ•°æ®å’Œè¡Œä¸ºäº¤äº’">ä½ä»£ç æ ¸å¿ƒå®ç° - ç»„ä»¶é—´æ•°æ®å’Œè¡Œä¸ºäº¤äº’</a></div>
                                
            </div>   
                        
            
            
    <div id='gitalk-container' class="comment link"
        data-ae='true'
        data-ci='1fa2cbcaf1ea94926f9e'
        data-cs='d3c54315ace2f651c0c623c4169318771e377e97'
        data-r='blog.eleven.net.cn'
        data-o='eleven-net-cn'
        data-a='eleven-net-cn'
        data-d='true'
    >ç•™è¨€</div>


            
        </div>
        <div class="sidebar">
            <div class="box animated fadeInRight">
                <div class="subbox">
                    <img class="author-pic" src="/img/abc/eleven-net-cn.jpeg" height=300 width=300></img>
                    <div class="span-wrapper">
                        <a href="https://github.com/eleven-net-cn" target="_blank">
                            <span class=" iconfont icon-github"></span>
                            <span>eleven-net-cn</span>
                        </a>
                    </div>
                    <p></p>
                    <!-- æ›´å¤šç¤¾äº¤è´¦å· -->
                    <!-- <span></span>
                    <dl>
                        <dd><a href="https://github.com/eleven-net-cn" target="_blank"><span
                                    class=" iconfont icon-github"></span></a></dd>
                        <dd><a href="https://twitter.com/TriDiamond6" target="_blank"><span
                                    class=" iconfont icon-twitter"></span></a></dd>
                        <dd><a href="" target="_blank"><span
                                    class=" iconfont icon-stack-overflow"></span></a></dd>
                    </dl> -->
                </div>
                <ul>
                    <li><a href="/">20 <p>æ–‡ç« </p></a></li>
                    <li><a href="/categories">13 <p>åˆ†ç±»</p></a></li>
                    <li><a href="/tags">20 <p>æ ‡ç­¾</p></a></li>
                </ul>
            </div>
            
            
            
            <div class="box sticky animated fadeInRight faster">
                <div id="toc" class="subbox">
                    <h4>ç›®å½•</h4>
                    <ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#%F0%9F%93%96-%E7%AE%80%E4%BB%8B"><span class="toc-number">1.</span> <span class="toc-text">ğŸ“– ç®€ä»‹</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E2%9A%99%EF%B8%8F-%E6%8F%92%E4%BB%B6%E9%85%8D%E7%BD%AE%E5%8F%82%E6%95%B0"><span class="toc-number">2.</span> <span class="toc-text">âš™ï¸ æ’ä»¶é…ç½®å‚æ•°</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#include-%E6%96%87%E4%BB%B6%E5%8C%85%E5%90%AB%E8%A7%84%E5%88%99"><span class="toc-number">2.1.</span> <span class="toc-text">include - æ–‡ä»¶åŒ…å«è§„åˆ™</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#exclude-%E6%96%87%E4%BB%B6%E6%8E%92%E9%99%A4%E8%A7%84%E5%88%99"><span class="toc-number">2.2.</span> <span class="toc-text">exclude - æ–‡ä»¶æ’é™¤è§„åˆ™</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#defaultDirectives-%E9%BB%98%E8%AE%A4%E5%A4%84%E7%90%86%E6%8C%87%E4%BB%A4"><span class="toc-number">2.3.</span> <span class="toc-text">defaultDirectives - é»˜è®¤å¤„ç†æŒ‡ä»¤</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#removeMetadata-%E7%A7%BB%E9%99%A4%E5%85%83%E6%95%B0%E6%8D%AE"><span class="toc-number">2.4.</span> <span class="toc-text">removeMetadata - ç§»é™¤å…ƒæ•°æ®</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#namedExports-%E5%91%BD%E5%90%8D%E5%AF%BC%E5%87%BA"><span class="toc-number">2.5.</span> <span class="toc-text">namedExports - å‘½åå¯¼å‡º</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%F0%9F%8E%AF-%E6%9F%A5%E8%AF%A2%E5%8F%82%E6%95%B0%E8%AF%A6%E8%A7%A3"><span class="toc-number">3.</span> <span class="toc-text">ğŸ¯ æŸ¥è¯¢å‚æ•°è¯¦è§£</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%B0%BA%E5%AF%B8%E6%8E%A7%E5%88%B6%E5%8F%82%E6%95%B0"><span class="toc-number">3.1.</span> <span class="toc-text">å°ºå¯¸æ§åˆ¶å‚æ•°</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%A0%BC%E5%BC%8F%E8%BD%AC%E6%8D%A2%E5%8F%82%E6%95%B0"><span class="toc-number">3.2.</span> <span class="toc-text">æ ¼å¼è½¬æ¢å‚æ•°</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%A7%86%E8%A7%89%E6%95%88%E6%9E%9C%E5%8F%82%E6%95%B0"><span class="toc-number">3.3.</span> <span class="toc-text">è§†è§‰æ•ˆæœå‚æ•°</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E9%AB%98%E7%BA%A7%E5%8F%82%E6%95%B0"><span class="toc-number">3.4.</span> <span class="toc-text">é«˜çº§å‚æ•°</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%F0%9F%93%A4-%E8%BE%93%E5%87%BA%E6%A0%BC%E5%BC%8F%E8%AF%A6%E8%A7%A3"><span class="toc-number">4.</span> <span class="toc-text">ğŸ“¤ è¾“å‡ºæ ¼å¼è¯¦è§£</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E9%BB%98%E8%AE%A4%E8%BE%93%E5%87%BA%EF%BC%88URL-%E5%AD%97%E7%AC%A6%E4%B8%B2%EF%BC%89"><span class="toc-number">4.1.</span> <span class="toc-text">é»˜è®¤è¾“å‡ºï¼ˆURL å­—ç¬¦ä¸²ï¼‰</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#as-srcset-%E5%93%8D%E5%BA%94%E5%BC%8F%E5%9B%BE%E7%89%87%E9%9B%86"><span class="toc-number">4.2.</span> <span class="toc-text">as&#x3D;srcset - å“åº”å¼å›¾ç‰‡é›†</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#as-metadata-%E5%9B%BE%E7%89%87%E5%85%83%E4%BF%A1%E6%81%AF"><span class="toc-number">4.3.</span> <span class="toc-text">as&#x3D;metadata - å›¾ç‰‡å…ƒä¿¡æ¯</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#as-img-%E5%9B%BE%E7%89%87%E5%AF%B9%E8%B1%A1"><span class="toc-number">4.4.</span> <span class="toc-text">as&#x3D;img - å›¾ç‰‡å¯¹è±¡</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#as-picture-Picture-%E5%85%83%E7%B4%A0%E6%95%B0%E6%8D%AE"><span class="toc-number">4.5.</span> <span class="toc-text">as&#x3D;picture - Picture å…ƒç´ æ•°æ®</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%F0%9F%9A%80-%E5%AE%9E%E9%99%85%E4%BD%BF%E7%94%A8%E7%A4%BA%E4%BE%8B"><span class="toc-number">5.</span> <span class="toc-text">ğŸš€ å®é™…ä½¿ç”¨ç¤ºä¾‹</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1-%E5%9F%BA%E7%A1%80-WebP-%E8%BD%AC%E6%8D%A2"><span class="toc-number">5.1.</span> <span class="toc-text">1. åŸºç¡€ WebP è½¬æ¢</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-%E5%93%8D%E5%BA%94%E5%BC%8F%E5%9B%BE%E5%83%8F"><span class="toc-number">5.2.</span> <span class="toc-text">2. å“åº”å¼å›¾åƒ</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-%E5%A4%9A%E6%A0%BC%E5%BC%8F%E6%94%AF%E6%8C%81"><span class="toc-number">5.3.</span> <span class="toc-text">3. å¤šæ ¼å¼æ”¯æŒ</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4-%E6%B8%90%E8%BF%9B%E5%BC%8F-WebP-%E5%9B%BE%E5%83%8F"><span class="toc-number">5.4.</span> <span class="toc-text">4. æ¸è¿›å¼ WebP å›¾åƒ</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#5-%E8%83%8C%E6%99%AF%E5%9B%BE%E5%83%8F%E4%BC%98%E5%8C%96"><span class="toc-number">5.5.</span> <span class="toc-text">5. èƒŒæ™¯å›¾åƒä¼˜åŒ–</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#6-%E9%AB%98%E7%BA%A7%E7%94%A8%E6%B3%95%EF%BC%9APicture-%E5%85%83%E7%B4%A0"><span class="toc-number">5.6.</span> <span class="toc-text">6. é«˜çº§ç”¨æ³•ï¼šPicture å…ƒç´ </span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%F0%9F%93%8A-%E6%80%A7%E8%83%BD%E5%BD%B1%E5%93%8D%E5%AF%B9%E6%AF%94"><span class="toc-number">6.</span> <span class="toc-text">ğŸ“Š æ€§èƒ½å½±å“å¯¹æ¯”</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%96%87%E4%BB%B6%E5%A4%A7%E5%B0%8F%E5%AF%B9%E6%AF%94%EF%BC%88%E4%BB%A5-1MB-%E5%8E%9F%E5%A7%8B-JPEG-%E4%B8%BA%E4%BE%8B%EF%BC%89"><span class="toc-number">6.1.</span> <span class="toc-text">æ–‡ä»¶å¤§å°å¯¹æ¯”ï¼ˆä»¥ 1MB åŸå§‹ JPEG ä¸ºä¾‹ï¼‰</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%9E%84%E5%BB%BA%E6%97%B6%E9%97%B4%E5%BD%B1%E5%93%8D"><span class="toc-number">6.2.</span> <span class="toc-text">æ„å»ºæ—¶é—´å½±å“</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%F0%9F%92%A1-%E6%9C%80%E4%BD%B3%E5%AE%9E%E8%B7%B5"><span class="toc-number">7.</span> <span class="toc-text">ğŸ’¡ æœ€ä½³å®è·µ</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1-%E9%80%89%E6%8B%A9%E5%90%88%E9%80%82%E7%9A%84%E5%9B%BE%E7%89%87"><span class="toc-number">7.1.</span> <span class="toc-text">1. é€‰æ‹©åˆé€‚çš„å›¾ç‰‡</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-%E8%B4%A8%E9%87%8F%E8%AE%BE%E7%BD%AE"><span class="toc-number">7.2.</span> <span class="toc-text">2. è´¨é‡è®¾ç½®</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-%E5%93%8D%E5%BA%94%E5%BC%8F%E5%9B%BE%E5%83%8F"><span class="toc-number">7.3.</span> <span class="toc-text">3. å“åº”å¼å›¾åƒ</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4-%E9%99%8D%E7%BA%A7%E6%96%B9%E6%A1%88"><span class="toc-number">7.4.</span> <span class="toc-text">4. é™çº§æ–¹æ¡ˆ</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#5-%E5%9F%BA%E7%A1%80%E9%85%8D%E7%BD%AE%E6%8E%A8%E8%8D%90"><span class="toc-number">7.5.</span> <span class="toc-text">5. åŸºç¡€é…ç½®æ¨è</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#6-%E6%8C%89%E7%94%A8%E9%80%94%E5%88%86%E7%B1%BB%E5%A4%84%E7%90%86"><span class="toc-number">7.6.</span> <span class="toc-text">6. æŒ‰ç”¨é€”åˆ†ç±»å¤„ç†</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%F0%9F%94%A7-%E9%A1%B9%E7%9B%AE%E9%85%8D%E7%BD%AE"><span class="toc-number">8.</span> <span class="toc-text">ğŸ”§ é¡¹ç›®é…ç½®</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%BD%93%E5%89%8D%E9%A1%B9%E7%9B%AE%E9%85%8D%E7%BD%AE"><span class="toc-number">8.1.</span> <span class="toc-text">å½“å‰é¡¹ç›®é…ç½®</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#TypeScript-%E7%B1%BB%E5%9E%8B%E5%A3%B0%E6%98%8E"><span class="toc-number">8.2.</span> <span class="toc-text">TypeScript ç±»å‹å£°æ˜</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E2%9A%A0%EF%B8%8F-%E6%B3%A8%E6%84%8F%E4%BA%8B%E9%A1%B9"><span class="toc-number">9.</span> <span class="toc-text">âš ï¸ æ³¨æ„äº‹é¡¹</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%F0%9F%8C%90-WebP-AVIF-%E6%B5%8F%E8%A7%88%E5%99%A8%E5%85%BC%E5%AE%B9%E6%80%A7"><span class="toc-number">10.</span> <span class="toc-text">ğŸŒ WebP&#x2F;AVIF æµè§ˆå™¨å…¼å®¹æ€§</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#WebP-%E6%94%AF%E6%8C%81"><span class="toc-number">10.1.</span> <span class="toc-text">WebP æ”¯æŒ</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#AVIF-%E6%94%AF%E6%8C%81"><span class="toc-number">10.2.</span> <span class="toc-text">AVIF æ”¯æŒ</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%A7%BB%E5%8A%A8%E7%AB%AF%E6%94%AF%E6%8C%81"><span class="toc-number">10.3.</span> <span class="toc-text">ç§»åŠ¨ç«¯æ”¯æŒ</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%96%87%E4%BB%B6%E5%A4%A7%E5%B0%8F%E5%AF%B9%E6%AF%94"><span class="toc-number">10.4.</span> <span class="toc-text">æ–‡ä»¶å¤§å°å¯¹æ¯”</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%F0%9F%93%9A-%E7%9B%B8%E5%85%B3%E9%93%BE%E6%8E%A5"><span class="toc-number">11.</span> <span class="toc-text">ğŸ“š ç›¸å…³é“¾æ¥</span></a></li></ol>
                </div>
            </div>
            
            
        </div>
    </div>
</div>

    </div>
</div>
    <div id="back-to-top" class="animated fadeIn faster">
        <div class="flow"></div>
        <span class="percentage animated fadeIn faster">0%</span>
        <span class="iconfont icon-top02 animated fadeIn faster"></span>
    </div>
</body>
<footer>
    <p class="copyright gradient-text" id="copyright">
        &copy;&nbsp;2020&nbsp;-&nbsp;2025
        <span>
            eleven-net-cn
        </span>
    </p>
    <p class="gradient-text">
        <a href=https://beian.miit.gov.cn target="_blank">æ²ªICPå¤‡2022012323å·-1</a>
    </p>
</footer>

<!-- <script type="text/javascript" src="https://cdn.bootcdn.net/ajax/libs/mathjax/2.7.6/MathJax.js"> -->
</script>

<script src="/js/MathJax.min.js"></script>

<script>
  MathJax.Hub.Config({
    "HTML-CSS": {
      preferredFont: "TeX",
      availableFonts: ["STIX", "TeX"],
      linebreaks: {
        automatic: true
      },
      EqnChunk: (MathJax.Hub.Browser.isMobile ? 10 : 50)
    },
    tex2jax: {
      inlineMath: [
        ["$", "$"],
        ["\\(", "\\)"]
      ],
      processEscapes: true,
      ignoreClass: "tex2jax_ignore|dno",
      skipTags: ['script', 'noscript', 'style', 'textarea', 'pre', 'code']
    },
    TeX: {
      noUndefined: {
        attributes: {
          mathcolor: "red",
          mathbackground: "#FFEEEE",
          mathsize: "90%"
        }
      },
      Macros: {
        href: "{}"
      }
    },
    messageStyle: "none"
  });
</script>
<script>
  function initialMathJax() {
    MathJax.Hub.Queue(function () {
      var all = MathJax.Hub.getAllJax(),
        i;
      // console.log(all);
      for (i = 0; i < all.length; i += 1) {
        console.log(all[i].SourceElement().parentNode)
        all[i].SourceElement().parentNode.className += ' has-jax';
      }
    });
  }

  function reprocessMathJax() {
    if (typeof MathJax !== 'undefined') {
      MathJax.Hub.Queue(["Typeset", MathJax.Hub]);
    }
  }
</script>


 
<link rel="stylesheet" href="/plugins/gitalk/gitalk.css">
 
<script src="/plugins/gitalk/gitalk.min.js"></script>
  
<script src="/js/jquery-3.4.1.min.js"></script>
<script src="/js/plugin.js"></script>
<script src="/js/obsidian.js"></script>
<script src="/js/jquery.truncate.js"></script>
<script src="/js/search.js"></script>
 
<script src="/js/typed.min.js"></script>
 
<script src="/js/md5.min.js"></script>
 
<script src="/js/social-share-1.0.16.min.js"></script>
 
<script src="/codemirror-5.60.0/lib/codemirror.js"></script>
  
<script src="/codemirror-5.60.0/mode/javascript/javascript.js"></script>
  
<script src="/codemirror-5.60.0/mode/css/css.js"></script>
  
<script src="/codemirror-5.60.0/mode/sass/sass.js"></script>
  
<script src="/codemirror-5.60.0/mode/xml/xml.js"></script>
  
<script src="/codemirror-5.60.0/mode/htmlmixed/htmlmixed.js"></script>
  
<script src="/codemirror-5.60.0/mode/clike/clike.js"></script>
  
<script src="/codemirror-5.60.0/mode/php/php.js"></script>
  
<script src="/codemirror-5.60.0/mode/shell/shell.js"></script>
  
<script src="/codemirror-5.60.0/mode/python/python.js"></script>
   
<link rel="stylesheet" href="/plugins/photoswipe/photoswipe.min.css">
<link rel="stylesheet" href="/plugins/photoswipe/default-skin.min.css">


<script src="/plugins/photoswipe/photoswipe.min.js"></script>
<script src="/plugins/photoswipe/photoswipe-ui-default.min.js"></script>


<!-- Root element of PhotoSwipe. Must have class pswp. -->
<div class="pswp" tabindex="-1" role="dialog" aria-hidden="true">
    <!-- Background of PhotoSwipe. 
         It's a separate element as animating opacity is faster than rgba(). -->
    <div class="pswp__bg"></div>
    <!-- Slides wrapper with overflow:hidden. -->
    <div class="pswp__scroll-wrap">
        <!-- Container that holds slides. 
            PhotoSwipe keeps only 3 of them in the DOM to save memory.
            Don't modify these 3 pswp__item elements, data is added later on. -->
        <div class="pswp__container">
            <div class="pswp__item"></div>
            <div class="pswp__item"></div>
            <div class="pswp__item"></div>
        </div>
        <!-- Default (PhotoSwipeUI_Default) interface on top of sliding area. Can be changed. -->
        <div class="pswp__ui pswp__ui--hidden">
            <div class="pswp__top-bar">
                <!--  Controls are self-explanatory. Order can be changed. -->
                <div class="pswp__counter"></div>
                <button class="pswp__button pswp__button--close" title="Close (Esc)"></button>
                <button class="pswp__button pswp__button--share" title="Share"></button>
                <button class="pswp__button pswp__button--fs" title="Toggle fullscreen"></button>
                <button class="pswp__button pswp__button--zoom" title="Zoom in/out"></button>
                <!-- Preloader demo http://codepen.io/dimsemenov/pen/yyBWoR -->
                <!-- element will get class pswp__preloader--active when preloader is running -->
                <div class="pswp__preloader">
                    <div class="pswp__preloader__icn">
                      <div class="pswp__preloader__cut">
                        <div class="pswp__preloader__donut"></div>
                      </div>
                    </div>
                </div>
            </div>
            <div class="pswp__share-modal pswp__share-modal--hidden pswp__single-tap">
                <div class="pswp__share-tooltip"></div> 
            </div>
            <button class="pswp__button pswp__button--arrow--left" title="Previous (arrow left)">
            </button>
            <button class="pswp__button pswp__button--arrow--right" title="Next (arrow right)">
            </button>
            <div class="pswp__caption">
                <div class="pswp__caption__center"></div>
            </div>
        </div>
    </div>
</div>
  

<script>
  /**
   * æ‰“å­—æ•ˆæœ
   */
  function initialTyped() {
    var typedTextEl = $('.typed-text');
    if (typedTextEl && typedTextEl.length > 0) {
      var typed = new Typed('.typed-text', {
        strings: ['', ''],
        typeSpeed: 90,
        loop: true,
        loopCount: Infinity,
        backSpeed: 20,
      });
    }
  }

  if ($('.article-header') && $('.article-header').length) {
    $(document).ready(function () {
      // åˆå§‹åŒ–æ‰“å­—æœº
      initialTyped();
    });
  }
</script>

 
<script src="/js/valine.min.js"></script>

<script>
  var valine = new Valine();

  function initValine(path) {
    if (!path) path = window.location.pathname;
    let language = 'zh-CN';
    if (!language) {
      language = 'en';
    } else {
      language = language.toLowerCase();
    }
    valine.init({
      el: '#vcomments',
      appId: 'hkm8dtO9l1LGafjtOfx8tvBd-gzGzoHsz',
      appKey: 'UOfcRu89reXtwqeIXPzpMYMj',
      notify: 'true',
      verify: 'false',
      avatar: 'mp',
      placeholder: 'è¾“å…¥è¯„è®º...',
      visitor: 'true',
      path: path,
      lang: language,
    });
  }

  $(document).ready(function () {
    initValine();
  });
</script>





</html>
